{% load i18n %}

<a id="shelfobject_view_{{shelfobject.pk}}"
   class="ms-2"
   data-url="{% url 'laboratory:api-shelfobject-details' lab_pk=laboratory.pk org_pk=org_pk.pk pk=shelfobject.pk %}"
   onclick="shelfObjectDetail(this)"
   title="{% trans 'Detail' %}">
    <i class="fa fa-eye text-success" aria-hidden="true"></i>
</a>

<a class="ms-2" data-bs-toggle="modal" data-bs-target="#reservemodal" title="{% trans 'Reservation' %}" data-shelfobject="{{shelfobject.pk}}"><i class="fa fa-shopping-basket" aria-hidden="true"></i></a>
<a class="ms-2" data-bs-toggle="modal" data-bs-target="#addmodal" title="{% trans 'Add' %}" data-shelfobject="{{shelfobject.pk}}"><i class="fa fa-plus text-success" aria-hidden="true"></i></a>
<a class="ms-2" data-bs-toggle="modal" onclick="return show_me_modal(this, event);" data-modalid="transfer_out_obj_id_modal" title="{% trans 'Transfer Out' %}" data-shelfobject="{{shelfobject.pk}}"><i class="fa fa-window-restore" aria-hidden="true"></i></a>
<a class="ms-2" data-bs-toggle="modal" data-bs-target="#substractmodal" title="{% trans 'Substract' %}" data-shelfobject="{{shelfobject.pk}}"><i class="fa fa-minus text-danger" aria-hidden="true"></i></a>
<a class="ms-2" href="" target="_blank" title="{% trans 'Log' %}"><i class="fa fa-file-text-o" aria-hidden="true"></i></a>
<a class="ms-2" href="" title="{% trans 'Move' %}"><i class="fa fa-arrows" aria-hidden="true"></i></a>

{% if perms.laboratory.do_report %}
<a class="ms-2" href="{% url 'laboratory:reports_shelf_objects' lab_pk=laboratory.pk org_pk=org_pk.pk pk=shelfobject.pk %}" title="{% trans 'Download' %}">
   <i class="fa fa-download" aria-hidden="true"></i>
</a>
{% endif %}

{% if shelf.discard %}
    {% if perms.laboratory.can_manage_disposal %}
        <a class="float-end"
           onclick="shelfObjectDelete(this, {{ shelfobject.pk }}, '{{shelfobject.object.name}}')"
           data-url="{% url 'laboratory:api-shelfobject-delete' lab_pk=laboratory.pk org_pk=org_pk.pk %}"
           title="{% trans 'Delete' %}"
           style="margin-left: 10px; color:red">
           <i class="fa fa-close" aria-hidden="true"></i>
        </a>
    {% endif %}
{% elif perms.laboratory.delete_shelfobject %}
    <a class="ms-2"
       onclick="shelfObjectDelete(this, {{ shelfobject.pk }}, '{{shelfobject.object.name}}')"
       data-url="{% url 'laboratory:api-shelfobject-delete' lab_pk=laboratory.pk org_pk=org_pk.pk %}"
       title="{% trans 'Delete' %}">
       <i class="fa fa-close text-danger" aria-hidden="true"></i>
    </a>
{% endif %}

<div class="modal fade" id="detail_modal_container" tabindex="-1" aria-labelledby="detail_modalLabel" aria-hidden="true"></div>
<!--{% if shelf.discard %}-->
<!--    {% if admin_add_disposal_perm %}-->
<!--        <a class="float-end"-->
<!--           data-bs-toggle="modal"-->
<!--           data-bs-target="#modal_reservation"-->
<!--           style="margin-right: 10px;" onclick="initialize_reservation_modal(this,{{shelfobject.pk}},{{ shelfobject.object.pk}}, {{request.user.id}},'{{shelfobject.get_measurement_unit_display}}','{{shelfobject.shelf.discard}}')">-->
<!--            <i class="fa fa-book" aria-hidden="true" title="{% trans 'Reserve/Add/Transfer/Substract' %}"></i>-->
<!--        </a>-->
<!--    {% endif %}-->
<!--{% elif perms.reservations_management.add_reservedproducts %}-->
<!--<a class="float-end"-->
<!--   data-bs-toggle="modal"-->
<!--   data-bs-target="#modal_reservation"-->
<!--   style="margin-right: 10px;" onclick="initialize_reservation_modal(this,{{shelfobject.pk}},{{ shelfobject.object.pk}}, {{request.user.id}},'{{shelfobject.get_measurement_unit_display}}','{{shelfobject.shelf.discard}}')">-->
<!--    <i class="fa fa-book" aria-hidden="true" title="{% trans 'Reserve/Add/Transfer/Substract' %}"></i>-->
<!--</a>-->
<!--{% endif %}-->